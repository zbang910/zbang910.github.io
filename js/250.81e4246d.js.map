{"version":3,"file":"js/250.81e4246d.js","mappings":"gLACA,IAAIA,EAAgBC,IAChB,IAAIC,EAAK,qBAG2B,OAAhCC,SAASC,eAAeF,IAC1BC,SAASC,eAAe,YAAYC,YAAYF,SAASC,eAAeF,IAG1E,IAAII,EAAMH,SAASI,cAAc,UAEjCD,EAAIE,MAAQ,IACZF,EAAIG,OAAS,GAEb,IAAIC,EAAOJ,EAAIK,WAAW,MAC1BD,EAAKE,QAAQ,GAAKC,KAAKC,GAAK,KAC5BJ,EAAKK,KAAO,cACZL,EAAKM,UAAY,UAGjBN,EAAKO,SAAShB,EAAK,EAAG,IAEtB,IAAIiB,EAAMf,SAASI,cAAc,OAajC,OAZAW,EAAIhB,GAAKA,EACTgB,EAAIC,MAAMC,cAAgB,OAC1BF,EAAIC,MAAME,IAAM,OAChBH,EAAIC,MAAMG,KAAO,QACjBJ,EAAIC,MAAMI,QAAU,OACpBL,EAAIC,MAAMK,SAAW,QACrBN,EAAIC,MAAMM,OAAS,SACnBP,EAAIC,MAAMX,MAAQL,SAASuB,gBAAgBC,YAAe,KAC1DT,EAAIC,MAAMV,OAASN,SAASuB,gBAAgBE,aAAgB,KAC5DV,EAAIC,MAAMU,WAAa,OAASvB,EAAIwB,UAAU,aAAe,oBAE7D3B,SAASC,eAAe,YAAY2B,YAAYb,GACzChB,GAIF,MAAM8B,EAAgB/B,IAC3B,IAAIC,EAAKF,EAAaC,GACc,OAAhCE,SAASC,eAAeF,KAC1BA,EAAK+B,aAAahC,KAKTiC,EAAkB,KAC7B,IAAIhC,EAAK,qBAC2B,OAAhCC,SAASC,eAAeF,IAC1BC,SAASC,eAAe,YAAYC,YAAYF,SAASC,eAAeF,K,gGCtC9E,MAAMiC,EAAe,KACjBH,EAAa,SAEXI,EAAiB,KACnBF,K,8SCbJ,MAAMG,EAAc,EAEpB","sources":["webpack://vue3-myapp/./src/hooks/useWaterMark.js","webpack://vue3-myapp/./src/views/func/watermark/Index.vue","webpack://vue3-myapp/./src/views/func/watermark/Index.vue?076a"],"sourcesContent":["/**  水印添加方法  */\r\nlet addWatermark = (str) => {\r\n    let id = 'unique-watermarkId'\r\n   \r\n    // 如果这个水印div已经存在先删除再生成\r\n    if (document.getElementById(id) !== null) {\r\n      document.getElementById('app-main').removeChild(document.getElementById(id))\r\n    }\r\n   \r\n    let can = document.createElement('canvas')\r\n    // 设置canvas画布大小\r\n    can.width = 150\r\n    can.height = 80\r\n   \r\n    let cans = can.getContext('2d')\r\n    cans.rotate(-20 * Math.PI / 180) // 水印旋转角度\r\n    cans.font = '16px Vedana'\r\n    cans.fillStyle = '#666666'\r\n    // cans.textAlign = 'center'\r\n    // cans.textBaseline = 'middle'\r\n    cans.fillText(str, 0, 32) // 水印在画布的位置x，y轴\r\n   \r\n    let div = document.createElement('div')\r\n    div.id = id\r\n    div.style.pointerEvents = 'none'\r\n    div.style.top = '90px'\r\n    div.style.left = '210px'\r\n    div.style.opacity = '0.15'\r\n    div.style.position = 'fixed'\r\n    div.style.zIndex = '100000'\r\n    div.style.width = document.documentElement.clientWidth  + 'px'\r\n    div.style.height = document.documentElement.clientHeight  + 'px'\r\n    div.style.background = 'url(' + can.toDataURL('image/png') + ') left top repeat'\r\n    // 在router-view中添加水印\r\n    document.getElementById('app-main').appendChild(div)\r\n    return id\r\n  }\r\n   \r\n  // 添加水印方法\r\n  export const setWaterMark = (str) => {\r\n    let id = addWatermark(str)\r\n    if (document.getElementById(id) === null) {\r\n      id = setWatermark(str)\r\n    }\r\n  }\r\n   \r\n  // 移除水印方法\r\n  export const removeWaterMark = () => {\r\n    let id = 'unique-watermarkId'\r\n    if (document.getElementById(id) !== null) {\r\n      document.getElementById('app-main').removeChild(document.getElementById(id))\r\n    }\r\n  }\r\n   ","<template>\r\n    <div class=\"view-container\">\r\n        <el-space>\r\n            <el-button type=\"primary\" @click=\"addWaterMark\">添加水印</el-button>\r\n            <el-button type=\"primary\" @click=\"clearWaterMark\">去除水印</el-button>\r\n        </el-space>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script setup>\r\nimport { removeWaterMark, setWaterMark } from \"@/hooks/useWaterMark.js\"\r\nconst addWaterMark = ()=>{\r\n    setWaterMark('我是水印')\r\n}\r\nconst clearWaterMark = ()=>{\r\n    removeWaterMark()\r\n}\r\n</script>\r\n\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import script from \"./Index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Index.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["addWatermark","str","id","document","getElementById","removeChild","can","createElement","width","height","cans","getContext","rotate","Math","PI","font","fillStyle","fillText","div","style","pointerEvents","top","left","opacity","position","zIndex","documentElement","clientWidth","clientHeight","background","toDataURL","appendChild","setWaterMark","setWatermark","removeWaterMark","addWaterMark","clearWaterMark","__exports__"],"sourceRoot":""}